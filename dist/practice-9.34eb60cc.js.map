{"mappings":"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","sources":["src/app/SKCorrelation.js","src/app/skc_index.js"],"sourcesContent":["import CFAnalysis from \"./CFAnalysis.js\";\r\nimport { findQuantileS, findQuantileU } from \"./utils/quantiles\";\r\nexport default class SKCorrelation {\r\n  #rx = [];\r\n  #ry = [];\r\n  constructor(...params) {\r\n    this.#rx = params[0].x || params[0][\"x\"] || params[0];\r\n    this.#ry = params[0].y || params[0][\"y\"] || params[1];\r\n  }\r\n  set rx(list) {\r\n    if (typeof list !== \"object\")\r\n      return console.error(\"Type Error: Parameter type must be an array\");\r\n    this.#rx = list;\r\n  }\r\n  get rx() {\r\n    return this.#rx;\r\n  }\r\n  set ry(list) {\r\n    if (typeof list !== \"object\")\r\n      return console.error(\"Type Error: Parameter type must be an array\");\r\n    this.#ry = list;\r\n  }\r\n  get ry() {\r\n    return this.#ry;\r\n  }\r\n  getS() {\r\n    let rangs = this.mapRangsToArray();\r\n    const sortedByX = [...rangs].sort((a, b) => a[0] - b[0]);\r\n    const map = {};\r\n\r\n    sortedByX.forEach((rang, index) => {\r\n      const [currentX, currentY] = rang;\r\n      map[index] = 0;\r\n\r\n      for (let j = index + 1; j < sortedByX.length; j++) {\r\n        const [nextX, nextY] = sortedByX[j];\r\n\r\n        map[index] += this.getV(\r\n          this.getRangs(this.#rx).object,\r\n          this.getRangs(this.#ry).object,\r\n          currentX,\r\n          currentY,\r\n          nextX,\r\n          nextY\r\n        );\r\n      }\r\n    });\r\n\r\n    return Object.values(map).reduce((state, current) => state + current, 0);\r\n  }\r\n\r\n  getV(rx, ry, currentX, currentY, nextX, nextY) {\r\n    const isBundlesExists = this.isBundlesExists(rx, ry);\r\n\r\n    if (isBundlesExists) {\r\n      if (currentY < nextY && currentX !== nextX) {\r\n        return 1;\r\n      } else if (currentY > nextY && currentX !== nextX) {\r\n        return -1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    } else {\r\n      if (currentY < nextY) {\r\n        return 1;\r\n      } else {\r\n        return -1;\r\n      }\r\n    }\r\n  }\r\n\r\n  isBundlesExists() {\r\n    let rx = this.getRangs(this.#rx);\r\n    let ry = this.getRangs(this.#ry);\r\n    const isXhaveBundles = Object.values(rx).some((item) => item.quantity > 1);\r\n    const isYhaveBundles = Object.values(ry).some((item) => item.quantity > 1);\r\n\r\n    return isXhaveBundles || isYhaveBundles;\r\n  }\r\n\r\n  evaluationKendallCoefficient() {\r\n    return this.isBundlesExists()\r\n      ? this.evaluationKendallCoefficientWithBundles(\r\n          this.getS(),\r\n          this.getRangs(this.#rx).object,\r\n          this.getRangs(this.#ry).object,\r\n          this.getRangs(this.#rx).result,\r\n          this.getRangs(this.#ry).result\r\n        )\r\n      : this.evaluationKendallCoefficientWithoutBundles(\r\n          this.getS(),\r\n          this.getRangs(this.#rx).result\r\n        );\r\n  }\r\n\r\n  evaluationKendallCoefficientWithoutBundles(S, x) {\r\n    const N = x.length;\r\n\r\n    return (2 * S) / (N * (N - 1));\r\n  }\r\n\r\n  evaluationKendallCoefficientWithBundles(S, rx, ry, xF, yF) {\r\n    const N = xF.length;\r\n\r\n    const C = this.getCurrentCalcsCD(rx);\r\n    const D = this.getCurrentCalcsCD(ry);\r\n\r\n    console.log(S);\r\n\r\n    return (\r\n      S / Math.sqrt(((1 / 2) * N * (N - 1) - C) * ((1 / 2) * N * (N - 1) - D))\r\n    );\r\n  }\r\n\r\n  getCurrentCalcsCD(data) {\r\n    data = Object.values(data);\r\n\r\n    console.log(data);\r\n\r\n    const z = data.filter((item) => item.quantity > 1);\r\n    const res = z.reduce(\r\n      (state, { quantity: current }) => state + current * (current - 1),\r\n      0\r\n    );\r\n\r\n    return res / 2;\r\n  }\r\n\r\n  getStatisticU() {\r\n    const N = this.#rx.length;\r\n\r\n    return (\r\n      (3 *\r\n        this.evaluationKendallCoefficient(\r\n          this.getRangs(this.#rx).object,\r\n          this.getRangs(this.#ry).object,\r\n          this.getRangs(this.#rx).result,\r\n          this.getRangs(this.#ry).result,\r\n          this.getS()\r\n        ) *\r\n        Math.sqrt(N * (N - 1))) /\r\n      Math.sqrt(2 * (2 * N + 5))\r\n    );\r\n  }\r\n\r\n  // lab 1 part 2.1\r\n\r\n  evaluationSpearmanCoefficient() {\r\n    return this.isBundlesExists()\r\n      ? this.evaluationSpearmanCoefficientWithBundles()\r\n      : this.evaluationSpearmanCoefficientWithoutBundles();\r\n  }\r\n\r\n  getStatisticT() {\r\n    const N = this.#rx.length;\r\n\r\n    return (\r\n      (this.evaluationSpearmanCoefficient() * Math.sqrt(N - 2)) /\r\n      Math.sqrt(1 - Math.pow(this.evaluationSpearmanCoefficient(), 2))\r\n    );\r\n  }\r\n\r\n  getSquareDiffRangs() {\r\n    return this.mapRangsToArray().reduce(\r\n      (state, [rx, ry]) => state + Math.pow(rx - ry, 2),\r\n      0\r\n    );\r\n  }\r\n\r\n  evaluationSpearmanCoefficientWithBundles() {\r\n    let xF = this.getRangs(this.#rx).result;\r\n    let yF = this.getRangs(this.#ry).result;\r\n    let sdr = this.getSquareDiffRangs();\r\n    const N = xF.length;\r\n\r\n    const A = this.getCurrentCalcsAB(xF);\r\n    const B = this.getCurrentCalcsAB(yF);\r\n\r\n    // console.log(N, sdr);\r\n    // console.log(A, B);\r\n\r\n    const tc =\r\n      ((1 / 6) * N * (Math.pow(N, 2) - 1) - sdr - A - B) /\r\n      Math.sqrt(\r\n        ((1 / 6) * N * (Math.pow(N, 2) - 1) - 2 * A) *\r\n          ((1 / 6) * N * (Math.pow(N, 2) - 1) - 2 * B)\r\n      );\r\n\r\n    return tc;\r\n  }\r\n  evaluationSpearmanCoefficientWithoutBundles() {\r\n    const N = this.#rx.length;\r\n    let sdr = this.getSquareDiffRangs();\r\n    return 1 - (6 / (N * (Math.pow(N, 2) - 1))) * sdr;\r\n  }\r\n  getCurrentCalcsAB(data) {\r\n    data = Object.values(data);\r\n\r\n    const z = data.filter((item) => item.quantity > 1);\r\n    const res = z.reduce(\r\n      (state, { quantity: current }) =>\r\n        state + (Math.pow(current, 3) - current),\r\n      0\r\n    );\r\n\r\n    return res / 12;\r\n  }\r\n\r\n  pearsonCorrelation() {\r\n    const cfa = new CFAnalysis(this.#rx, this.#ry);\r\n\r\n    return cfa.getR();\r\n  }\r\n\r\n  mapRangsToArray() {\r\n    const resultX = [];\r\n    const resultY = [];\r\n    const rangsX = this.getRangs(this.#rx).result;\r\n    const rangsY = this.getRangs(this.#ry).result;\r\n\r\n    this.#rx.forEach((item) => {\r\n      resultX.push(rangsX.find((rang) => rang.value === item).index);\r\n    });\r\n\r\n    this.#ry.forEach((item) => {\r\n      resultY.push(rangsY.find((rang) => rang.value === item).index);\r\n    });\r\n\r\n    const result = resultX.map((item, index) => {\r\n      return [item, resultY[index]];\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  getRangs(data, table = {}) {\r\n    const sortedData =\r\n      typeof data[0] === \"object\"\r\n        ? [...data].sort((a, b) => a.value - b.value)\r\n        : [...data].sort((a, b) => a - b);\r\n\r\n    typeof data[0] === \"object\" ? (table = data) : (table = {});\r\n\r\n    const object = {};\r\n\r\n    sortedData.forEach((item, index) => {\r\n      if (typeof item === \"object\") {\r\n        if (object.hasOwnProperty(item.value)) {\r\n          object[item.value] = {\r\n            quantity: object[item.value].quantity + 1,\r\n            index: object[item.value].index + index + 1,\r\n            entity: item.entity,\r\n          };\r\n        } else {\r\n          object[item.value] = {\r\n            quantity: 1,\r\n            index: index + 1,\r\n            entity: item.entity,\r\n          };\r\n        }\r\n      } else {\r\n        if (object.hasOwnProperty(item)) {\r\n          object[item] = {\r\n            quantity: object[item].quantity + 1,\r\n            index: object[item].index + index + 1,\r\n          };\r\n        } else {\r\n          object[item] = {\r\n            quantity: 1,\r\n            index: index + 1,\r\n          };\r\n        }\r\n      }\r\n    });\r\n\r\n    for (const key in object) {\r\n      if (object[key].quantity > 1) {\r\n        object[key].index = object[key].index / object[key].quantity;\r\n      }\r\n    }\r\n\r\n    // console.log(object);\r\n\r\n    // for (const key in table) {\r\n    //     if (table[key].value === 0) {\r\n    //         table[key].rang = 0\r\n    //     } else {\r\n    //         table[key].rang = object[table[key].value].index\r\n    //     }\r\n    // }\r\n\r\n    const result = [...data]\r\n      .sort((a, b) => a - b)\r\n      .map((item) => {\r\n        return {\r\n          value: item,\r\n          index: object[item].index,\r\n        };\r\n      });\r\n\r\n    return { object, result };\r\n  }\r\n  sortedMappedRangs() {\r\n    return [...this.mapRangsToArray()].sort((a, b) => a[0] - b[0]);\r\n  }\r\n  Spearman() {\r\n    return /* html */ `\r\n      <h3>Коефіцієнт рангової кореляції Спірмена</h3>\r\n      <p>Compared rangs: </p>\r\n      <table>\r\n      <tr>${this.sortedMappedRangs()\r\n        .map((item) => {\r\n          return `\r\n              <td>${item[0]}</td>\r\n          `;\r\n        })\r\n        .join(\"\")}</tr>\r\n      <tr>\r\n      ${this.sortedMappedRangs()\r\n        .map((item) => {\r\n          return `\r\n              <td>${item[1]}</td>\r\n          `;\r\n        })\r\n        .join(\"\")}</tr>\r\n      </table>\r\n      <p>Square rangs: ${this.getSquareDiffRangs().toFixed(4)}</p>\r\n      <p>Evaluate τ<sub>c</sub>: ${this.evaluationSpearmanCoefficient().toFixed(\r\n        4\r\n      )}</p>\r\n      <p>Statistic T: ${this.getStatisticT().toFixed(4)}</p>\r\n      ${\r\n        Math.abs(this.getStatisticT()) <= findQuantileS(this.#rx.length - 2)\r\n          ? `<p>|${this.getStatisticT()}| &le; ${findQuantileS(\r\n              this.#rx.length - 2\r\n            )}, <br> коефіцієнт кореляції Спірмена дорівнює нулю  (незначущий),  між  показниками  відсутня  монотонна  залежність.`\r\n          : `<p>|${this.getStatisticT()}| > ${findQuantileS(\r\n              this.#rx.length - 2\r\n            ).toFixed(\r\n              4\r\n            )}, <br> Коефіцієнт кореляції Спірмена відмінний від нуля і між показниками x та y існує  монотонний  зв’язок</p>`\r\n      }\r\n  `;\r\n  }\r\n  Kendall() {\r\n    return /* html */ `\r\n      <h3>Коефіцієнт рангової кореляції Кендалла</h3>\r\n      <p>S: ${this.getS().toFixed(4)}</p>\r\n      <p>Evaluate τ<sub>k</sub>: ${this.evaluationKendallCoefficient().toFixed(\r\n        4\r\n      )}</p>\r\n      <p>Statistic U: ${this.getStatisticU().toFixed(4)}</p>\r\n      ${\r\n        Math.abs(this.getStatisticU()) <= findQuantileU()\r\n          ? `<p>|${this.getStatisticU().toFixed(\r\n              4\r\n            )}| &le; ${findQuantileU()}, <br> Коефіцієнт  кореляції  вважаємо  таким,  що  дорівнює нулю,  і можемо стверджувати,  що  монотонної  залежності  між  показниками  немає.`\r\n          : `<p>|${this.getStatisticU().toFixed(\r\n              4\r\n            )}| > ${findQuantileU().toFixed(\r\n              4\r\n            )}, <br> Коефіцієнт кореляції Кендалла відмінний від нуля і між показниками x та y існує  монотонний  зв’язок</p>`\r\n      }\r\n  `;\r\n  }\r\n  print(selector) {\r\n    document.querySelector(selector).innerHTML =\r\n      this.Spearman() + this.Kendall();\r\n  }\r\n}\r\n","import SKCorrelation from \"./SKCorrelation.js\";\r\n\r\nfunction toCorrectData(data) {\r\n  return data\r\n    .split(\",\")\r\n    .filter((item) => item !== \"\")\r\n    .map((item) => Number(typeof item == \"NaN\" ? 0 : item));\r\n}\r\n\r\nfunction start() {\r\n  const submit = document.querySelector(\"#submit-input\");\r\n  const fileInput = document.querySelector(\"#input-file\") ?? null;\r\n  let fileResult = null;\r\n  if (fileInput === null) return console.error(\"fileInput === null\");\r\n  fileInput.addEventListener(\"change\", (e) => {\r\n    const file = e.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.readAsText(file);\r\n\r\n    reader.addEventListener(\"load\", (e) => {\r\n      fileResult = reader.result\r\n        .split(\"\\n\")\r\n        .map((item) => item.trim())\r\n        .map((item) => item.split(/\\s+/));\r\n      console.log(fileResult);\r\n      result1 = fileResult.map((item) =>\r\n        item[0] == \"NA\" || item[0] == \"?\" ? 0 : +item[0]\r\n      );\r\n      result2 = fileResult.map((item) =>\r\n        item[1] == \"NA\" || item[1] == \"?\" ? 0 : +item[1]\r\n      );\r\n      fileResult = { x: result1, y: result2 };\r\n      document.querySelector(\"#file-label\").innerText = `Loaded: ${file.name}`;\r\n    });\r\n\r\n    reader.onerror = function () {\r\n      console.log(reader.error);\r\n    };\r\n  });\r\n  submit.addEventListener(\"click\", (e) => {\r\n    const inputX = document.querySelector(\"#input-x\").value ?? \"\";\r\n    const inputY = document.querySelector(\"#input-y\").value ?? \"\";\r\n\r\n    const skc =\r\n      fileResult === null\r\n        ? new SKCorrelation(toCorrectData(inputX), toCorrectData(inputY))\r\n        : new SKCorrelation(fileResult);\r\n    console.log(\r\n      skc.evaluationSpearmanCoefficientWithBundles(\r\n        skc.getRangs(skc.rx).result,\r\n        skc.getRangs(skc.ry).result\r\n      )\r\n    );\r\n    skc.print(\".list\");\r\n  });\r\n}\r\nstart();\r\n"],"names":["$5f3O5","parcelRequire","$d7455dbdd1795aa0$export$2e2bcd8739ae039","rx","ry","constructor","params","this","x","y","list","console","error","getS","sortedByX","mapRangsToArray","sort","a","b","map","forEach","rang","index","currentX","currentY","j","length","nextX","nextY","getV","getRangs","object","Object","values","reduce","state","current","isBundlesExists","isXhaveBundles","some","item","quantity","isYhaveBundles","evaluationKendallCoefficient","evaluationKendallCoefficientWithBundles","result","evaluationKendallCoefficientWithoutBundles","S","N","xF","yF","C","getCurrentCalcsCD","D","log","Math","sqrt","data","filter","getStatisticU","evaluationSpearmanCoefficient","evaluationSpearmanCoefficientWithBundles","evaluationSpearmanCoefficientWithoutBundles","getStatisticT","pow","getSquareDiffRangs","sdr","A","getCurrentCalcsAB","B","pearsonCorrelation","default","getR","resultX","resultY","rangsX","rangsY","push","find","value","table","sortedData","hasOwnProperty","entity","key","sortedMappedRangs","Spearman","join","$fa41c5acfee53fba$var$toCorrectData","split","Number","submit","document","querySelector","fileInput","fileResult","addEventListener","e","file","target","files","reader","FileReader","readAsText","trim","result1","result2","innerText","name","onerror","inputX","inputY","skc","print","$fa41c5acfee53fba$var$start"],"version":3,"file":"practice-9.34eb60cc.js.map"}